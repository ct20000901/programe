(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b9b1c58"],{"09bc":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"contain"}},[a("el-container",[a("el-header",{staticStyle:{"text-align":"right","font-size":"20px"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}},on:{click:t.active}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("审批管理")]),a("el-breadcrumb-item",[t._v("科研成果")])],1)],1),a("el-main",[a("div",{attrs:{id:"main"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:t.label,"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"btn1",attrs:{type:"text"},on:{click:function(a){return t.forMore(e.row)}}},[t._v(t._s(e.row.waiting))])]}}])}),a("el-table-column",{attrs:{label:"成果负责人",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),a("el-table-column",{attrs:{label:"时间",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.date))]}}])}),t.isshow?a("el-table-column",{attrs:{label:"操作",width:"150px;"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}],null,!1,3778300450)}):t._e()],1),a("div",{staticStyle:{"margin-top":"20px"}},[t.isshow?t._e():a("el-button",{attrs:{type:"success",round:""},on:{click:function(e){return t.passAll()}}},[t._v("批量通过")]),t.isshow?t._e():a("el-button",{attrs:{type:"warning",round:""},on:{click:function(e){return t.toggleSelection()}}},[t._v("取消选中")]),a("el-button",{attrs:{type:"info",round:""},on:{click:function(e){return t.passed()}}},[t._v(t._s(t.ispassed))])],1)],1)])],1)],1)},n=[],s=(a("4160"),a("b0c0"),a("159b"),a("4328")),l=a.n(s),o={data:function(){return{tableData:[],multipleSelection:[],ispassed:"已通过",isshow:!1,label:"待审核结果"}},watch:{},methods:{active:function(){this.$emit("handleOpen",0)},handleDelete:function(t,e){var a=this;this.$http.get("boss/deleteSci",{params:{id:e.id}}).then((function(){a.$router.go(0)}))},toggleSelection:function(t){var e=this;t?t.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},passAll:function(){for(var t=this,e=this.multipleSelection,a=this,i=[],n=0;n<e.length;n++)i.push(e[n].id);this.$http.get("boss/sciapproval?"+l.a.stringify({Ids:i},{arrayFormat:"repeat"})).then((function(e){e&&(a.multipleSelection=[],a.$message({message:"审核通过成功",type:"success"}),t.$router.go(0))})).catch((function(t){console.log(t)}))},forMore:function(t){this.$router.push({name:"more",params:{sincereId:t.id,ispassed:this.isshow}})},passed:function(){var t=this,e={};"已通过"===this.ispassed?(this.ispassed="未通过",this.label="已审核结果",this.tableData=[],this.$http.get("boss/scihistory").then((function(a){for(var i=a.data.data.scis,n=i.length,s=0;s<n;s++)e.date=i[s].time,e.name=i[s].uploads,e.waiting=i[s].entryname,e.id=i[s].id,t.tableData.push(e),e={}})),this.isshow=!0):(this.ispassed="已通过",this.label="待审核结果",this.tableData=null,this.getDataList(),this.isshow=!1)},getDataList:function(){var t=this,e={},a=[];this.tableData=[],this.$http.get("boss/scis").then((function(i){a=i.data.data.scis;for(var n=a.length,s=0;s<n;s++)e.date=a[s].time,e.name=a[s].uploads,e.waiting=a[s].entryname,e.id=a[s].id,t.tableData.push(e),e={}}))}},mounted:function(){this.getDataList()}},c=o,r=(a("c237"),a("2877")),u=Object(r["a"])(c,i,n,!1,null,"70caa7ca",null);e["default"]=u.exports},c237:function(t,e,a){"use strict";var i=a("db9c"),n=a.n(i);n.a},db9c:function(t,e,a){}}]);
//# sourceMappingURL=chunk-5b9b1c58.14afb0e4.js.map