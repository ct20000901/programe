(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3aab7484"],{4751:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"contain"}},[n("div",{staticClass:"header"},[n("div",{staticClass:"Input"},[n("el-input",{staticClass:"title",attrs:{placeholder:"公告标题",maxlength:"25"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),n("el-input",{staticClass:"publisher",attrs:{placeholder:"发布者",maxlength:"15"},model:{value:t.publisher,callback:function(e){t.publisher=e},expression:"publisher"}})],1),n("div",{staticClass:"publish"},[n("input",{attrs:{accept:"*.pdf,*.txt,*.doc",type:"file",name:"image"},on:{change:function(e){return t.getFile(e)}}}),n("el-button",{attrs:{type:"success",round:""},on:{click:function(e){return t.publish()}}},[t._v("确认修改")])],1)]),n("div",{staticClass:"write"},[n("quill-editor",{ref:"myQuillEditor",staticClass:"mr-8",staticStyle:{height:"790px",width:"1300px",margin:"20px auto",padding:"0px",background:"white"},attrs:{"max-height":"800",options:t.editorOption},on:{change:function(e){return t.onEditorChange(e)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)])},a=[],l=n("953d"),s=(n("a753"),n("8096"),n("14e1"),{data:function(){return{content:null,title:"",publisher:"",url:"",file:null,editorOption:{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"][{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]}],[{align:[]}],["link"],["sourceEditor"]]}}}},methods:{onEditorChange:function(t){var e=t.html;this.content=e},getFile:function(t){this.file=t.target.files[0]},publish:function(){var t=this;null!==this.content?""!==this.publisher?""!==this.title?this.$confirm("是否确认发表?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then((function(){var e=new FormData;e.append("File",t.file),t.$http.post("boss/upload",e).then((function(e){t.url=e.data.data;var n={id:t.$route.params.announceId,title:t.title,publisher:t.publisher,content:t.content,fileurl:t.url};t.$http.post("boss/updateannounce",{Announce:n}).then((function(){t.$message({type:"success",message:"提交成功!"}),t.content=null,t.$router.push("/manager/announces")}))}))})).catch((function(){t.$message({type:"warning",message:"发布失败"})})):alert("标题不能为空！"):alert("发布者不能为空！"):alert("内容不能为空！")},getData:function(){var t=this;this.$http.get("boss/getannounce",{params:{id:this.$route.params.announceId}}).then((function(e){var n=e.data.data;t.title=n.title,t.publisher=n.publisher,t.content=n.content,t.url=n.fileURL}))}},components:{quillEditor:l["quillEditor"]},mounted:function(){this.getData()}}),o=s,r=(n("68b4"),n("2877")),u=Object(r["a"])(o,i,a,!1,null,"203c4d30",null);e["default"]=u.exports},"68b4":function(t,e,n){"use strict";var i=n("f0bf"),a=n.n(i);a.a},f0bf:function(t,e,n){}}]);
//# sourceMappingURL=chunk-3aab7484.c1b63c99.js.map