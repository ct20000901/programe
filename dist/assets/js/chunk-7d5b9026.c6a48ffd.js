(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d5b9026"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"14c3":function(e,t,n){var r=n("c6b6"),a=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var i=n.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"19a8":function(e,t,n){"use strict";var r=n("816a"),a=n.n(r);a.a},"1dde":function(e,t,n){var r=n("d039"),a=n("b622"),i=n("2d00"),l=a("species");e.exports=function(e){return i>=51||!r((function(){var t=[],n=t.constructor={};return n[l]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2e4a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"contain"}},[n("el-container",[n("el-header",{staticStyle:{"text-align":"right","font-size":"20px"}},[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),n("el-breadcrumb-item",[e._v("用户管理")]),n("el-breadcrumb-item",[e._v("用户列表")])],1)],1),n("el-main",[n("div",{staticClass:"top"},[n("el-input",{staticClass:"search",attrs:{placeholder:"请输入关键字","prefix-icon":"el-icon-search"},on:{change:e.filterTable},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("el-button",{staticClass:"btn",attrs:{round:""},on:{click:e.filterTable}},[e._v("搜索")]),n("el-button",{staticClass:"btn",attrs:{round:""},on:{click:function(t){return e.newone()}}},[e._v("添加")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isshow,expression:"isshow"}],staticClass:"newone"},[n("div",{staticStyle:{margin:"20px"}}),n("el-form",{ref:"formLabelAlign",attrs:{"label-position":e.labelPosition,"label-width":"100px",model:e.formLabelAlign,rules:e.rules}},[n("el-form-item",{attrs:{label:"账号",required:""}},[n("el-input",{model:{value:e.formLabelAlign.username,callback:function(t){e.$set(e.formLabelAlign,"username",t)},expression:"formLabelAlign.username"}})],1),n("el-form-item",{attrs:{label:"密码",required:""}},[n("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.formLabelAlign.pass,callback:function(t){e.$set(e.formLabelAlign,"pass",t)},expression:"formLabelAlign.pass"}})],1),n("el-form-item",{attrs:{label:"确认密码"}},[n("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.formLabelAlign.checkPass,callback:function(t){e.$set(e.formLabelAlign,"checkPass",t)},expression:"formLabelAlign.checkPass"}})],1),n("el-form-item",{attrs:{label:"手机号",prop:"tel"}},[n("el-input",{model:{value:e.formLabelAlign.tel,callback:function(t){e.$set(e.formLabelAlign,"tel",t)},expression:"formLabelAlign.tel"}})],1),n("el-form-item",{attrs:{label:"邮箱",prop:"mail"}},[n("el-input",{model:{value:e.formLabelAlign.mail,callback:function(t){e.$set(e.formLabelAlign,"mail",t)},expression:"formLabelAlign.mail"}})],1),n("el-form-item",{attrs:{label:"是否启用"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formLabelAlign.whether,callback:function(t){e.$set(e.formLabelAlign,"whether",t)},expression:"formLabelAlign.whether"}},e._l(e.options2,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"用户角色"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formLabelAlign.role,callback:function(t){e.$set(e.formLabelAlign,"role",t)},expression:"formLabelAlign.role"}},e._l(e.options1,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),n("div",{staticStyle:{"margin-left":"20px"}},[n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.PageSize,e.currentPage*e.PageSize),border:""}},[n("el-table-column",{attrs:{label:"id",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.id))])]}}])}),n("el-table-column",{attrs:{label:"用户名",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.username))])]}}])}),n("el-table-column",{attrs:{label:"邮箱地址",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.mail))])]}}])}),n("el-table-column",{attrs:{label:"电话",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.tel))])]}}])}),n("el-table-column",{attrs:{label:"状态",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticStyle:{"margin-left":"10px"}},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(n){return e.situationOnchange(t.row)}},model:{value:t.row.whether,callback:function(n){e.$set(t.row,"whether",n)},expression:"scope.row.whether"}})],1)]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-dialog",{attrs:{title:"信息编辑",visible:e.edit_show},on:{"update:visible":function(t){e.edit_show=t}}},[n("el-form",{attrs:{"label-position":e.labelPosition,"label-width":"100px",model:e.edit}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{attrs:{placeholder:"必填"},model:{value:e.edit.name,callback:function(t){e.$set(e.edit,"name",t)},expression:"edit.name"}})],1),n("el-form-item",{attrs:{label:"电话"}},[n("el-input",{attrs:{placeholder:"选填"},model:{value:e.edit.tel,callback:function(t){e.$set(e.edit,"tel",t)},expression:"edit.tel"}})],1),n("el-form-item",{attrs:{label:"邮箱"}},[n("el-input",{attrs:{placeholder:"选填"},model:{value:e.edit.mail,callback:function(t){e.$set(e.edit,"mail",t)},expression:"edit.mail"}})],1)],1),n("div",{staticClass:"dialog-footer btn_color",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini",round:"",type:"primary"},on:{click:function(t){return e.edits()}}},[e._v("提交")]),n("el-button",{attrs:{size:"mini",round:"",type:"info"},on:{click:function(t){e.edit_show=!e.edit_show}}},[e._v(" 取消")])],1)],1),n("el-button",{staticClass:"edit_btn",attrs:{size:"mini"},on:{click:function(n){return e.open(t.row)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v("删除")]),n("el-popover",{ref:"popover3",attrs:{placement:"right",width:"300",trigger:"click"}},[n("el-form",{attrs:{"label-position":e.labelPosition,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"权限"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options1,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),n("el-button",{attrs:{size:"mini",round:""},on:{click:function(n){return e.submit_permission(t.$index,t.row)}}},[e._v("提交")])],1),n("el-button",{directives:[{name:"popover",rawName:"v-popover:popover3",arg:"popover3"}],staticClass:"fenpeiquanxian",attrs:{size:"mini"}},[e._v("更换角色")]),n("el-button",{staticClass:"edit_btn",attrs:{size:"mini"},on:{click:function(n){return e.reSetpassword(t.row)}}},[e._v("重置密码")])]}}])})],1),n("div",{staticClass:"tabListPage"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1)},a=[],i=(n("4de4"),n("c975"),n("b0c0"),n("ac1f"),n("841c"),{data:function(){var e=/^1[34578]\d{9}$/,t=/^\w+@\w+(\.\w+)+$/,n=function(e,n,r){return n?t.test(n)?r():void r(new Error("请输入合法邮箱")):r(new Error("邮箱不能为空"))},r=function(t,n,r){return n?e.test(n)?r():void r(new Error("请输入合法的手机号码")):r(new Error("电话号码不能为空"))};return{edit_show:!1,row:null,tableData:[],ifcould:[],currentPage:1,totalCount:3,pageSizes:[1,5,10],PageSize:10,isshow:!1,labelPosition:"middle",formLabelAlign:{username:"",pass:"",checkPass:"",mail:"",role:"",tel:"",whether:""},edit:{name:"",mail:"",tel:""},options1:[{value:"company",label:"企业"},{value:"university",label:"高校"}],options2:[{value:"是",label:"是"},{value:"否",label:"否"}],rules:{mail:[{validator:n,trigger:"blur"},{required:!0,message:"请输入联系人邮箱",trigger:"blur"}],tel:[{required:!0,message:"请输入联系人电话",trigger:"blur"},{validator:r,trigger:"blur"}]},value:"",search:""}},computed:{for_whether:function(e){return"是"===this.tableData[e].whether}},watch:{edit_show:function(e,t){!1===e&&e!==t&&(this.edit={name:"",mail:"",tel:""})},isshow:function(e,t){!1===e&&e!==t&&(this.formLabelAlign={})}},methods:{handleDelete:function(e){var t=this;this.$http.get("boss/deleteuser",{params:{id:e.id}}).then((function(){"管理员"===e.role?alert("该账号是管理员，删除失败！"):t.$router.go(0)}))},open:function(e){this.edit_show=!this.edit_show,!0===this.edit_show&&(this.edit={name:e.username,mail:e.mail,tel:e.tel}),this.row=e},handleSizeChange:function(e){this.PageSize=e,this.currentPage=1},handleCurrentChange:function(e){this.currentPage=e},getDataList:function(){var e=this,t={},n=[];this.tableData=[],this.$http.get("boss/alluser").then((function(r){e.totalCount=r.data.data.users.length,n=r.data.data.users;for(var a=0;a<e.totalCount;a++)t.id=n[a].id,t.username=n[a].username,t.password=n[a].password,t.mail=n[a].mail,t.tel=n[a].tel,t.role=n[a].role,"是"===n[a].whether?t.whether=!0:t.whether=!1,e.tableData.push(t),t={}}))},newone:function(){this.isshow=!this.isshow},submit:function(){var e=this,t=/^1[3|4|5|7|8][0-9]{9}$/,n=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(this.formLabelAlign.pass==this.formLabelAlign.checkPass){var r=this.formLabelAlign;if(n.test(r.mail))if(t.test(r.tel)){var a={username:r.username,password:r.pass,mail:r.mail,tel:r.tel,whether:r.whether,role:r.role};this.$http.post("boss/adduser",a).then((function(t){t&&(e.isshow=!e.isshow)})).then((function(){location.reload()}))}else this.$notify({title:"警告",message:"请输入正确的电话号码",type:"warning",position:"top-left"});else this.$notify({title:"警告",message:"请输入符合规范的邮箱",type:"warning",position:"top-left"})}else alert("两次密码不相同")},filterTable:function(){var e,t=this;""!=this.search&&this.tableData?(e=this.tableData.filter((function(e){return-1!=e.username.indexOf(t.search)})),this.tableData=e):this.getDataList()},edits:function(){var e=this,t=/^1[3|4|5|7|8][0-9]{9}$/,n=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,r=this.edit;if(r.mail){if(!n.test(r.mail))return void this.$notify({title:"警告",message:"请输入符合规范的邮箱",type:"warning",position:"top-left"})}else r.mail=this.row.mail;if(r.tel){if(!t.test(r.tel))return void this.$notify({title:"警告",message:"请输入正确的电话号码",type:"warning",position:"top-left"})}else r.tel=this.row.tel;this.$http.post("boss/updateUser",{id:this.row.id,username:r.name,mail:r.mail,tel:r.tel}).then((function(){e.$router.go(0),alert("修改成功")})),this.edit={name:"",mail:"",tel:""},this.getDataList()},situationOnchange:function(e){var t="";t=!0===e.whether?"是":"否",this.$http.post("boss/updateUser",{id:e.id,whether:t})},submit_permission:function(e,t){var n=this;this.$http.post("boss/updateUser",{id:t.id,role:this.value}).then((function(){n.value="",alert("设置成功")}))},reSetpassword:function(e){this.$http.get("boss/resetPwd",{params:{id:e.id}}).then((function(e){e&&alert("重置成功")}))}},components:{},mounted:function(){this.getDataList()}}),l=i,o=(n("19a8"),n("2877")),s=Object(o["a"])(l,r,a,!1,null,"1ecc9626",null);t["default"]=s.exports},"4de4":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").filter,i=n("1dde"),l=n("ae40"),o=i("filter"),s=l("filter");r({target:"Array",proto:!0,forced:!o||!s},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,n){var r=n("861d"),a=n("e8b5"),i=n("b622"),l=i("species");e.exports=function(e,t){var n;return a(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?r(n)&&(n=n[l],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"816a":function(e,t,n){},"841c":function(e,t,n){"use strict";var r=n("d784"),a=n("825a"),i=n("1d80"),l=n("129f"),o=n("14c3");r("search",1,(function(e,t,n){return[function(t){var n=i(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=a(e),s=String(this),c=i.lastIndex;l(c,0)||(i.lastIndex=0);var u=o(i,s);return l(i.lastIndex,c)||(i.lastIndex=c),null===u?-1:u.index}]}))},9263:function(e,t,n){"use strict";var r=n("ad6d"),a=n("9f7f"),i=RegExp.prototype.exec,l=String.prototype.replace,o=i,s=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],f=s||u||c;f&&(o=function(e){var t,n,a,o,f=this,d=c&&f.sticky,p=r.call(f),h=f.source,m=0,b=e;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),b=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(h="(?: "+h+")",b=" "+b,m++),n=new RegExp("^(?:"+h+")",p)),u&&(n=new RegExp("^"+h+"$(?!\\s)",p)),s&&(t=f.lastIndex),a=i.call(d?n:f,b),d?a?(a.input=a.input.slice(m),a[0]=a[0].slice(m),a.index=f.lastIndex,f.lastIndex+=a[0].length):f.lastIndex=0:s&&a&&(f.lastIndex=f.global?a.index+a[0].length:t),u&&a&&a.length>1&&l.call(a[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(a[o]=void 0)})),a}),e.exports=o},"9f7f":function(e,t,n){"use strict";var r=n("d039");function a(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),a=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,n){var r=n("83ab"),a=n("d039"),i=n("5135"),l=Object.defineProperty,o={},s=function(e){throw e};e.exports=function(e,t){if(i(o,e))return o[e];t||(t={});var n=[][e],c=!!i(t,"ACCESSORS")&&t.ACCESSORS,u=i(t,0)?t[0]:s,f=i(t,1)?t[1]:void 0;return o[e]=!!n&&!a((function(){if(c&&!r)return!0;var e={length:-1};c?l(e,1,{enumerable:!0,get:s}):e[1]=1,n.call(e,u,f)}))}},b0c0:function(e,t,n){var r=n("83ab"),a=n("9bf2").f,i=Function.prototype,l=i.toString,o=/^\s*function ([^ (]*)/,s="name";!r||s in i||a(i,s,{configurable:!0,get:function(){try{return l.call(this).match(o)[1]}catch(e){return""}}})},b727:function(e,t,n){var r=n("0366"),a=n("44ad"),i=n("7b0b"),l=n("50c4"),o=n("65f0"),s=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,f=6==e,d=5==e||f;return function(p,h,m,b){for(var v,g,w=i(p),x=a(w),y=r(h,m,3),_=l(x.length),A=0,S=b||o,k=t?S(p,_):n?S(p,0):void 0;_>A;A++)if((d||A in x)&&(v=x[A],g=y(v,A,w),e))if(t)k[A]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return A;case 2:s.call(k,v)}else if(u)return!1;return f?-1:c||u?u:k}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c975:function(e,t,n){"use strict";var r=n("23e7"),a=n("4d64").indexOf,i=n("a640"),l=n("ae40"),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,c=i("indexOf"),u=l("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:s||!c||!u},{indexOf:function(e){return s?o.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),a=n("d039"),i=n("b622"),l=n("9263"),o=n("9112"),s=i("species"),c=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),f=i("replace"),d=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),p=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var h=i(e),m=!a((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),b=m&&!a((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!m||!b||"replace"===e&&(!c||!u||d)||"split"===e&&!p){var v=/./[h],g=n(h,""[e],(function(e,t,n,r,a){return t.exec===l?m&&!a?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),w=g[0],x=g[1];r(String.prototype,e,w),r(RegExp.prototype,h,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}f&&o(RegExp.prototype[h],"sham",!0)}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}}}]);
//# sourceMappingURL=chunk-7d5b9026.c6a48ffd.js.map